(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{111:(e,s,a)=>{"use strict";a.d(s,{default:()=>P});var t=a(5155),l=a(2115),n=a(5452),r=a(3999),i=a(3096);let o=n.bL;n.l9;let d=n.ZL;n.bm;let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.hJ,{ref:s,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});c.displayName=n.hJ.displayName;let m=l.forwardRef((e,s)=>{let{className:a,children:l,...o}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(n.UC,{ref:s,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[l,(0,t.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.MKb,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};u.displayName="DialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="DialogFooter";let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.hE,{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});p.displayName=n.hE.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.VY,{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...l})}).displayName=n.VY.displayName;var x=a(1853);let h=x.bL,g=x.l9;x.YJ,x.ZL,x.Pb,x.z6,l.forwardRef((e,s)=>{let{className:a,inset:l,children:n,...o}=e;return(0,t.jsxs)(x.ZP,{ref:s,className:(0,r.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-white",l&&"pl-8",a),...o,children:[n,(0,t.jsx)(i.vKP,{className:"ml-auto"})]})}).displayName=x.ZP.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(x.G5,{ref:s,className:(0,r.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...l})}).displayName=x.G5.displayName;let v=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...n}=e;return(0,t.jsx)(x.ZL,{children:(0,t.jsx)(x.UC,{ref:s,sideOffset:l,className:(0,r.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin] bg-white",a),...n})})});v.displayName=x.UC.displayName;let b=l.forwardRef((e,s)=>{let{className:a,inset:l,...n}=e;return(0,t.jsx)(x.q7,{ref:s,className:(0,r.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",l&&"pl-8",a),...n})});b.displayName=x.q7.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,checked:n,...o}=e;return(0,t.jsxs)(x.H_,{ref:s,className:(0,r.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(x.VF,{children:(0,t.jsx)(i.Srz,{className:"h-4 w-4"})})}),l]})}).displayName=x.H_.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,t.jsxs)(x.hN,{ref:s,className:(0,r.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(x.VF,{children:(0,t.jsx)(i.RiX,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=x.hN.displayName;let j=l.forwardRef((e,s)=>{let{className:a,inset:l,...n}=e;return(0,t.jsx)(x.JU,{ref:s,className:(0,r.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...n})});j.displayName=x.JU.displayName;let N=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(x.wv,{ref:s,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});N.displayName=x.wv.displayName;var w=a(6766),y=a(3312),R=a(6874),k=a.n(R),S=a(9852),z=a(7168),C=a(4477);let F=(0,C.createServerReference)("7f40faacf425a1893947758465fbc245fd9cd292f1",C.callServer,void 0,C.findSourceMapURL,"renameFile"),U=(0,C.createServerReference)("7f18278a543e116de540fbadf6c03e28ecf13a46ee",C.callServer,void 0,C.findSourceMapURL,"updateFileUser"),_=(0,C.createServerReference)("7f16213050043b0afeca628c916adfb6afd92b005f",C.callServer,void 0,C.findSourceMapURL,"deleteFile");var I=a(5695),L=a(9361);let D=e=>{let{date:s,className:a}=e;return(0,t.jsx)("p",{className:(0,r.cn)("body-1 text-light-200",a),children:(0,r.r6)(s)})},M=e=>{let{file:s}=e;return(0,t.jsxs)("div",{className:"file-details-thumbnail",children:[(0,t.jsx)(L.A,{type:s.type,extension:s.extension,url:s.url}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"subtitle-2 mb-1",children:s.name}),(0,t.jsx)(D,{date:s.$createdAt,className:"caption"})]})]})},$=e=>{let{label:s,value:a}=e;return(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("p",{className:"file-details-label",children:s}),(0,t.jsx)("p",{className:"file-details-value",children:a})]})},A=e=>{let{file:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,{file:s}),(0,t.jsxs)("div",{className:"space-y-4 px-2 pt-2",children:[(0,t.jsx)($,{label:"Format: ",value:s.extension}),(0,t.jsx)($,{label:"Size: ",value:(0,r.BR)(s.size)}),(0,t.jsx)($,{label:"Owner: ",value:s.owner.fullName}),(0,t.jsx)($,{label:"Last Edit: ",value:(0,r.r6)(s.$updatedAt)})]})]})},O=e=>{let{file:s,onInputChange:a,onRemove:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,{file:s}),(0,t.jsxs)("div",{className:"share-wrapper",children:[(0,t.jsx)("p",{className:"subtitle-2 pl-1 text-light-100",children:"Share files with other users"}),(0,t.jsx)(S.p,{type:"email",placeholder:"Enter email address",onChange:e=>a(e.target.value.trim().split(",")),className:"share-input-field"}),(0,t.jsxs)("div",{className:"pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("p",{className:"subtitle-2 text-light-100",children:"Shared with"}),(0,t.jsxs)("p",{className:"subtitle-2 text-light-200",children:[s.users.length," users"]})]}),(0,t.jsx)("ul",{className:"pt-2",children:s.users.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"subtitle-2 line-clamp-1",children:e}),(0,t.jsx)(z.$,{onClick:()=>l(e),className:"share-remove-user",children:(0,t.jsx)(w.default,{src:"/assets/icons/remove.svg",alt:"Remove",width:24,height:24,className:"remove-icon"})})]},e))})]})]})]})},P=e=>{let{file:s}=e,[a,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)(null),[R,C]=(0,l.useState)(s.name),[L,D]=(0,l.useState)(!1),[M,$]=(0,l.useState)([]),P=(0,I.usePathname)(),J=()=>{n(!1),d(!1),x(null),C(s.name)},B=async()=>{if(!c)return;D(!0);let e=!1;await ({rename:()=>F({fileId:s.$id,name:R,extension:s.extension,path:P}),share:()=>U({fileId:s.$id,emails:M,path:P}),delete:()=>_({fileId:s.$id,path:P,bucketFileId:s.bucketFieldId})})[c.value]()&&J(),D(!1)},E=()=>{n(!1),d(!1)},T=async e=>{let a=M.filter(s=>s!==e);await U({fileId:s.$id,emails:a,path:P})&&$(a),J()};return(0,t.jsxs)(o,{open:a,onOpenChange:n,children:[(0,t.jsxs)(h,{open:i,onOpenChange:d,children:[(0,t.jsx)(g,{className:"shad-no-focus",children:(0,t.jsx)(w.default,{src:"/assets/icons/dots.svg",alt:"Menu",width:34,height:34})}),(0,t.jsxs)(v,{children:[(0,t.jsx)(j,{className:"max-w-[200px] truncate",children:s.name}),(0,t.jsx)(N,{}),y.To.map(e=>(0,t.jsx)(b,{className:"shad-dropdown-item",onClick:()=>{x(e),["rename","share","delete","details"].includes(e.value)?(n(!0),d(!1)):E()},children:"download"===e.value?(0,t.jsxs)(k(),{href:(0,r.TU)(s.bucketFieldId),download:s.name,className:"flex items-center gap-2",children:[(0,t.jsx)(w.default,{src:e.icon,alt:e.label,width:30,height:30}),e.label]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.default,{src:e.icon,alt:e.label,width:30,height:30}),e.label]})},e.value))]})]}),(()=>{if(!c)return null;let{value:e,label:a}=c;return(0,t.jsxs)(m,{className:"shad-dialog button",children:[(0,t.jsxs)(u,{className:"flex flex-col gap-3",children:[(0,t.jsx)(p,{className:"text-center text-light-100",children:a}),"rename"===e&&(0,t.jsx)(S.p,{type:"text",className:"rounded-md",value:R,onChange:e=>C(e.target.value)}),"share"===e&&(0,t.jsx)(O,{file:s,onInputChange:$,onRemove:T}),"details"===e&&(0,t.jsx)(A,{file:s}),"delete"===e&&(0,t.jsxs)("p",{className:"delete-confirmation",children:["Are you sure you want to delete"," ",(0,t.jsx)("span",{className:"delete-file-name",children:s.name})]})]}),["rename","share","delete"].includes(e)&&(0,t.jsxs)(f,{className:"flex flex-col gap-3 md:flex-row",children:[(0,t.jsx)(z.$,{className:"modal-cancel-button",onClick:J,children:"Cancel"}),(0,t.jsxs)(z.$,{className:"modal-submit-button text-white",onClick:B,children:[(0,t.jsx)("p",{className:"capitalize",children:e}),L&&(0,t.jsx)(w.default,{src:"/assets/icons/loader.svg",alt:"loader",width:30,height:30})]})]})]})})()]})}},3312:(e,s,a)=>{"use strict";a.d(s,{Cn:()=>t,To:()=>l,w3:()=>n});let t=[{name:"Dashboard",icon:"/assets/icons/dashboard.svg",url:"/"},{name:"Documents",icon:"/assets/icons/documents.svg",url:"/documents"},{name:"Images",icon:"/assets/icons/images.svg",url:"/images"},{name:"Media",icon:"/assets/icons/video.svg",url:"/media"},{name:"Others",icon:"/assets/icons/others.svg",url:"/others"}],l=[{label:"Rename",icon:"/assets/icons/edit.svg",value:"rename"},{label:"Details",icon:"/assets/icons/info.svg",value:"details"},{label:"Share",icon:"/assets/icons/share.svg",value:"share"},{label:"Download",icon:"/assets/icons/download.svg",value:"download"},{label:"Delete",icon:"/assets/icons/delete.svg",value:"delete"}],n=0x3200000},3482:(e,s,a)=>{Promise.resolve().then(a.bind(a,111)),Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.t.bind(a,3063,23))},3999:(e,s,a)=>{"use strict";a.d(s,{Ad:()=>r,BR:()=>i,I3:()=>c,TU:()=>m,cn:()=>n,r6:()=>d,ti:()=>o});var t=a(2596),l=a(9688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}let r=e=>URL.createObjectURL(e),i=(e,s)=>e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(s||1)+" KB":e<0x40000000?(e/1048576).toFixed(s||1)+" MB":(e/0x40000000).toFixed(s||2)+" GB",o=e=>{var s;let a=null==(s=e.split(".").pop())?void 0:s.toLowerCase();return a?["pdf","doc","docx","txt","xls","xlsx","csv","rtf","ods","ppt","odp","md","html","htm","epub","pages","fig","psd","ai","indd","xd","sketch","afdesign","afphoto","afphoto"].includes(a)?{type:"document",extension:a}:["jpg","jpeg","png","gif","bmp","svg","webp"].includes(a)?{type:"image",extension:a}:["mp4","avi","mov","mkv","webm"].includes(a)?{type:"video",extension:a}:["mp3","wav","ogg","flac"].includes(a)?{type:"audio",extension:a}:{type:"other",extension:a}:{type:"other",extension:""}},d=e=>{if(!e)return"—";let s=new Date(e),a=s.getHours(),t=s.getMinutes(),l=a>=12?"pm":"am";a=a%12||12;let n="".concat(a,":").concat(t.toString().padStart(2,"0")).concat(l),r=s.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()];return"".concat(n,", ").concat(r," ").concat(i)},c=(e,s)=>{switch(e){case"pdf":return"/assets/icons/file-pdf.svg";case"doc":return"/assets/icons/file-doc.svg";case"docx":return"/assets/icons/file-docx.svg";case"csv":return"/assets/icons/file-csv.svg";case"txt":return"/assets/icons/file-txt.svg";case"xls":case"xlsx":return"/assets/icons/file-document.svg";case"svg":return"/assets/icons/file-image.svg";case"mkv":case"mov":case"avi":case"wmv":case"mp4":case"flv":case"webm":case"m4v":case"3gp":return"/assets/icons/file-video.svg";case"mp3":case"mpeg":case"wav":case"aac":case"flac":case"ogg":case"wma":case"m4a":case"aiff":case"alac":return"/assets/icons/file-audio.svg";default:switch(s){case"image":return"/assets/icons/file-image.svg";case"document":return"/assets/icons/file-document.svg";case"video":return"/assets/icons/file-video.svg";case"audio":return"/assets/icons/file-audio.svg";default:return"/assets/icons/file-other.svg"}}},m=e=>"".concat("https://fra.cloud.appwrite.io/v1","/storage/buckets/").concat("686541fe000c56441e49","/files/").concat(e,"/download?project=").concat("68653b2100065f09f7e1")},7168:(e,s,a)=>{"use strict";a.d(s,{$:()=>d,r:()=>o});var t=a(5155),l=a(2115),n=a(9708),r=a(2085),i=a(3999);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,t.jsx)(m,{className:(0,i.cn)(o({variant:l,size:r,className:a})),ref:s,...c})});d.displayName="Button"},9361:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(5155),l=a(3999),n=a(6766);a(2115);let r=e=>{let{type:s,extension:a,url:r="",imageClassName:i,className:o}=e,d="image"===s&&"svg"!==a;return(0,t.jsx)("figure",{className:(0,l.cn)("thumbnail",o),children:(0,t.jsx)(n.default,{src:d?r:(0,l.I3)(a,s),alt:"Thumbnail",width:100,height:100,className:(0,l.cn)("siz-8 object-contain",i,d&&"thumbnail-image")})})}},9852:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(5155),l=a(2115),n=a(3999);let r=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});r.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[105,63,924,853,441,684,358],()=>s(3482)),_N_E=e.O()}]);