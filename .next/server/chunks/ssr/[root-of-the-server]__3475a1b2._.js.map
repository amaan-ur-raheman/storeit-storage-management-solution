{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/lib/appwrite/config.ts"],"sourcesContent":["export const appwriteConfig = {\n    endpointUrl: process.env.NEXT_PUBLIC_APPWRITE_ENDPOINT!,\n    projectId: process.env.NEXT_PUBLIC_APPWRITE_PROJECT!,\n    databaseId: process.env.NEXT_PUBLIC_APPWRITE_DATABASE!,\n    usersCollectionId: process.env.NEXT_PUBLIC_APPWRITE_USERS_COLLECTION!,\n    filesCollectionId: process.env.NEXT_PUBLIC_APPWRITE_FILES_COLLECTION!,\n    bucketId: process.env.NEXT_PUBLIC_APPWRITE_BUCKET!,\n    secretKey: process.env.NEXT_APPWRITE_KEY!,\n};"],"names":[],"mappings":";;;AAAO,MAAM,iBAAiB;IAC1B,WAAW;IACX,SAAS;IACT,UAAU;IACV,iBAAiB;IACjB,iBAAiB;IACjB,QAAQ;IACR,WAAW,QAAQ,GAAG,CAAC,iBAAiB;AAC5C","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/lib/appwrite/index.ts"],"sourcesContent":["\"use server\";\n\nimport { Account, Avatars, Client, Databases, Storage } from \"node-appwrite\";\nimport { appwriteConfig } from \"./config\";\nimport { cookies } from \"next/headers\";\n\nexport const createSessionClient = async () => {\n    const client = new Client()\n        .setEndpoint(appwriteConfig.endpointUrl)\n        .setProject(appwriteConfig.projectId);\n\n    const session = (await cookies()).get(\"appwrite-session\");\n\n    if (!session || !session.value) throw new Error(\"No session\");\n\n    client.setSession(session.value);\n\n    return {\n        get account() {\n            return new Account(client);\n        },\n        get databases() {\n            return new Databases(client);\n        },\n    };\n};\n\nexport const createAdminClient = async () => {\n    const client = new Client()\n        .setEndpoint(appwriteConfig.endpointUrl)\n        .setProject(appwriteConfig.projectId)\n        .setKey(appwriteConfig.secretKey);\n\n    return {\n        get account() {\n            return new Account(client);\n        },\n        get databases() {\n            return new Databases(client);\n        },\n        get storage() {\n            return new Storage(client);\n        },\n        get avatars() {\n            return new Avatars(client);\n        }\n    };\n}"],"names":[],"mappings":";;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;AAEO,MAAM,sBAAsB;IAC/B,MAAM,SAAS,IAAI,mKAAA,CAAA,SAAM,GACpB,WAAW,CAAC,yHAAA,CAAA,iBAAc,CAAC,WAAW,EACtC,UAAU,CAAC,yHAAA,CAAA,iBAAc,CAAC,SAAS;IAExC,MAAM,UAAU,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC;IAEtC,IAAI,CAAC,WAAW,CAAC,QAAQ,KAAK,EAAE,MAAM,IAAI,MAAM;IAEhD,OAAO,UAAU,CAAC,QAAQ,KAAK;IAE/B,OAAO;QACH,IAAI,WAAU;YACV,OAAO,IAAI,gKAAA,CAAA,UAAO,CAAC;QACvB;QACA,IAAI,aAAY;YACZ,OAAO,IAAI,kKAAA,CAAA,YAAS,CAAC;QACzB;IACJ;AACJ;AAEO,MAAM,oBAAoB;IAC7B,MAAM,SAAS,IAAI,mKAAA,CAAA,SAAM,GACpB,WAAW,CAAC,yHAAA,CAAA,iBAAc,CAAC,WAAW,EACtC,UAAU,CAAC,yHAAA,CAAA,iBAAc,CAAC,SAAS,EACnC,MAAM,CAAC,yHAAA,CAAA,iBAAc,CAAC,SAAS;IAEpC,OAAO;QACH,IAAI,WAAU;YACV,OAAO,IAAI,gKAAA,CAAA,UAAO,CAAC;QACvB;QACA,IAAI,aAAY;YACZ,OAAO,IAAI,kKAAA,CAAA,YAAS,CAAC;QACzB;QACA,IAAI,WAAU;YACV,OAAO,IAAI,gKAAA,CAAA,UAAO,CAAC;QACvB;QACA,IAAI,WAAU;YACV,OAAO,IAAI,gKAAA,CAAA,UAAO,CAAC;QACvB;IACJ;AACJ;;;IAzCa;IAqBA;;AArBA,+OAAA;AAqBA,+OAAA","debugId":null}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs));\n}\nexport const parseStringify = (value: unknown) =>\n    JSON.parse(JSON.stringify(value));\n\nexport const convertFileToUrl = (file: File) => URL.createObjectURL(file);\n\nexport const convertFileSize = (sizeInBytes: number, digits?: number) => {\n    if (sizeInBytes < 1024) {\n        return sizeInBytes + \" Bytes\"; // Less than 1 KB, show in Bytes\n    } else if (sizeInBytes < 1024 * 1024) {\n        const sizeInKB = sizeInBytes / 1024;\n        return sizeInKB.toFixed(digits || 1) + \" KB\"; // Less than 1 MB, show in KB\n    } else if (sizeInBytes < 1024 * 1024 * 1024) {\n        const sizeInMB = sizeInBytes / (1024 * 1024);\n        return sizeInMB.toFixed(digits || 1) + \" MB\"; // Less than 1 GB, show in MB\n    } else {\n        const sizeInGB = sizeInBytes / (1024 * 1024 * 1024);\n        return sizeInGB.toFixed(digits || 2) + \" GB\"; // 1 GB or more, show in GB\n    }\n};\n\nexport const calculateAngle = (sizeInBytes: number) => {\n    const totalSizeInBytes = 2 * 1024 * 1024 * 1024; // 2GB in bytes\n    const percentage = (sizeInBytes / totalSizeInBytes) * 360;\n    return Number(percentage.toFixed(2));\n};\n\nexport const calculatePercentage = (sizeInBytes: number) => {\n    const totalSizeInBytes = 2 * 1024 * 1024 * 1024; // 2GB in bytes\n    const percentage = (sizeInBytes / totalSizeInBytes) * 100;\n    return Number(percentage.toFixed(1));\n};\n\nexport const getFileType = (fileName: string) => {\n    const extension = fileName.split(\".\").pop()?.toLowerCase();\n\n    if (!extension) return { type: \"other\", extension: \"\" };\n\n    const documentExtensions = [\n        \"pdf\",\n        \"doc\",\n        \"docx\",\n        \"txt\",\n        \"xls\",\n        \"xlsx\",\n        \"csv\",\n        \"rtf\",\n        \"ods\",\n        \"ppt\",\n        \"odp\",\n        \"md\",\n        \"html\",\n        \"htm\",\n        \"epub\",\n        \"pages\",\n        \"fig\",\n        \"psd\",\n        \"ai\",\n        \"indd\",\n        \"xd\",\n        \"sketch\",\n        \"afdesign\",\n        \"afphoto\",\n        \"afphoto\",\n    ];\n    const imageExtensions = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"bmp\", \"svg\", \"webp\"];\n    const videoExtensions = [\"mp4\", \"avi\", \"mov\", \"mkv\", \"webm\"];\n    const audioExtensions = [\"mp3\", \"wav\", \"ogg\", \"flac\"];\n\n    if (documentExtensions.includes(extension))\n        return { type: \"document\", extension };\n    if (imageExtensions.includes(extension))\n        return { type: \"image\", extension };\n    if (videoExtensions.includes(extension))\n        return { type: \"video\", extension };\n    if (audioExtensions.includes(extension))\n        return { type: \"audio\", extension };\n\n    return { type: \"other\", extension };\n};\n\nexport const formatDateTime = (isoString: string | null | undefined) => {\n    if (!isoString) return \"â€”\";\n\n    const date = new Date(isoString);\n\n    // Get hours and adjust for 12-hour format\n    let hours = date.getHours();\n    const minutes = date.getMinutes();\n    const period = hours >= 12 ? \"pm\" : \"am\";\n\n    // Convert hours to 12-hour format\n    hours = hours % 12 || 12;\n\n    // Format the time and date parts\n    const time = `${hours}:${minutes.toString().padStart(2, \"0\")}${period}`;\n    const day = date.getDate();\n    const monthNames = [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\",\n    ];\n    const month = monthNames[date.getMonth()];\n\n    return `${time}, ${day} ${month}`;\n};\n\nexport const getFileIcon = (\n    extension: string | undefined,\n    type: FileType | string\n) => {\n    switch (extension) {\n        // Document\n        case \"pdf\":\n            return \"/assets/icons/file-pdf.svg\";\n        case \"doc\":\n            return \"/assets/icons/file-doc.svg\";\n        case \"docx\":\n            return \"/assets/icons/file-docx.svg\";\n        case \"csv\":\n            return \"/assets/icons/file-csv.svg\";\n        case \"txt\":\n            return \"/assets/icons/file-txt.svg\";\n        case \"xls\":\n        case \"xlsx\":\n            return \"/assets/icons/file-document.svg\";\n        // Image\n        case \"svg\":\n            return \"/assets/icons/file-image.svg\";\n        // Video\n        case \"mkv\":\n        case \"mov\":\n        case \"avi\":\n        case \"wmv\":\n        case \"mp4\":\n        case \"flv\":\n        case \"webm\":\n        case \"m4v\":\n        case \"3gp\":\n            return \"/assets/icons/file-video.svg\";\n        // Audio\n        case \"mp3\":\n        case \"mpeg\":\n        case \"wav\":\n        case \"aac\":\n        case \"flac\":\n        case \"ogg\":\n        case \"wma\":\n        case \"m4a\":\n        case \"aiff\":\n        case \"alac\":\n            return \"/assets/icons/file-audio.svg\";\n\n        default:\n            switch (type) {\n                case \"image\":\n                    return \"/assets/icons/file-image.svg\";\n                case \"document\":\n                    return \"/assets/icons/file-document.svg\";\n                case \"video\":\n                    return \"/assets/icons/file-video.svg\";\n                case \"audio\":\n                    return \"/assets/icons/file-audio.svg\";\n                default:\n                    return \"/assets/icons/file-other.svg\";\n            }\n    }\n};\n\n// APPWRITE URL UTILS\n// Construct appwrite file URL - https://appwrite.io/docs/apis/rest#images\nexport const constructFileUrl = (bucketFileId: string) => {\n    return `${process.env.NEXT_PUBLIC_APPWRITE_ENDPOINT}/storage/buckets/${process.env.NEXT_PUBLIC_APPWRITE_BUCKET}/files/${bucketFileId}/view?project=${process.env.NEXT_PUBLIC_APPWRITE_PROJECT}`;\n};\n\nexport const constructDownloadUrl = (bucketFileId: string) => {\n    return `${process.env.NEXT_PUBLIC_APPWRITE_ENDPOINT}/storage/buckets/${process.env.NEXT_PUBLIC_APPWRITE_BUCKET}/files/${bucketFileId}/download?project=${process.env.NEXT_PUBLIC_APPWRITE_PROJECT}`;\n};\n\n// DASHBOARD UTILS\nexport const getUsageSummary = (totalSpace: any) => {\n    return [\n        {\n            title: \"Documents\",\n            size: totalSpace.document.size,\n            latestDate: totalSpace.document.latestDate,\n            icon: \"/assets/icons/file-document-light.svg\",\n            url: \"/documents\",\n        },\n        {\n            title: \"Images\",\n            size: totalSpace.image.size,\n            latestDate: totalSpace.image.latestDate,\n            icon: \"/assets/icons/file-image-light.svg\",\n            url: \"/images\",\n        },\n        {\n            title: \"Media\",\n            size: totalSpace.video.size + totalSpace.audio.size,\n            latestDate:\n                totalSpace.video.latestDate > totalSpace.audio.latestDate\n                    ? totalSpace.video.latestDate\n                    : totalSpace.audio.latestDate,\n            icon: \"/assets/icons/file-video-light.svg\",\n            url: \"/media\",\n        },\n        {\n            title: \"Others\",\n            size: totalSpace.other.size,\n            latestDate: totalSpace.other.latestDate,\n            icon: \"/assets/icons/file-other-light.svg\",\n            url: \"/others\",\n        },\n    ];\n};\n\nexport const getFileTypesParams = (type: string) => {\n    switch (type) {\n        case \"documents\":\n            return [\"document\"];\n        case \"images\":\n            return [\"image\"];\n        case \"media\":\n            return [\"video\", \"audio\"];\n        case \"others\":\n            return [\"other\"];\n        default:\n            return [\"document\"];\n    }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/constants/index.ts"],"sourcesContent":["export const navItems = [\n  {\n    name: 'Dashboard',\n    icon: '/assets/icons/dashboard.svg',\n    url: '/',\n  },\n  {\n    name: 'Documents',\n    icon: '/assets/icons/documents.svg',\n    url: '/documents',\n  },\n  {\n    name: 'Images',\n    icon: '/assets/icons/images.svg',\n    url: '/images',\n  },\n  {\n    name: 'Media',\n    icon: '/assets/icons/video.svg',\n    url: '/media',\n  },\n  {\n    name: 'Others',\n    icon: '/assets/icons/others.svg',\n    url: '/others',\n  },\n];\n\nexport const actionsDropdownItems = [\n  {\n    label: 'Rename',\n    icon: '/assets/icons/edit.svg',\n    value: 'rename',\n  },\n  {\n    label: 'Details',\n    icon: '/assets/icons/info.svg',\n    value: 'details',\n  },\n  {\n    label: 'Share',\n    icon: '/assets/icons/share.svg',\n    value: 'share',\n  },\n  {\n    label: 'Download',\n    icon: '/assets/icons/download.svg',\n    value: 'download',\n  },\n  {\n    label: 'Delete',\n    icon: '/assets/icons/delete.svg',\n    value: 'delete',\n  },\n];\n\nexport const sortTypes = [\n  {\n    label: 'Date created (newest)',\n    value: '$createdAt-desc',\n  },\n  {\n    label: 'Created Date (oldest)',\n    value: '$createdAt-asc',\n  },\n  {\n    label: 'Name (A-Z)',\n    value: 'name-asc',\n  },\n  {\n    label: 'Name (Z-A)',\n    value: 'name-desc',\n  },\n  {\n    label: 'Size (Highest)',\n    value: 'size-desc',\n  },\n  {\n    label: 'Size (Lowest)',\n    value: 'size-asc',\n  },\n];\n\nexport const MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB\nexport const avatarPlaceholderUrl = \"https://img.freepik.com/free-psd/3d-illustration-person-with-sunglasses_23-2149436188.jpg?semt=ais_hybrid&w=740\""],"names":[],"mappings":";;;;;;;AAAO,MAAM,WAAW;IACtB;QACE,MAAM;QACN,MAAM;QACN,KAAK;IACP;IACA;QACE,MAAM;QACN,MAAM;QACN,KAAK;IACP;IACA;QACE,MAAM;QACN,MAAM;QACN,KAAK;IACP;IACA;QACE,MAAM;QACN,MAAM;QACN,KAAK;IACP;IACA;QACE,MAAM;QACN,MAAM;QACN,KAAK;IACP;CACD;AAEM,MAAM,uBAAuB;IAClC;QACE,OAAO;QACP,MAAM;QACN,OAAO;IACT;IACA;QACE,OAAO;QACP,MAAM;QACN,OAAO;IACT;IACA;QACE,OAAO;QACP,MAAM;QACN,OAAO;IACT;IACA;QACE,OAAO;QACP,MAAM;QACN,OAAO;IACT;IACA;QACE,OAAO;QACP,MAAM;QACN,OAAO;IACT;CACD;AAEM,MAAM,YAAY;IACvB;QACE,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;IACT;CACD;AAEM,MAAM,gBAAgB,KAAK,OAAO,MAAM,OAAO;AAC/C,MAAM,uBAAuB","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/lib/actions/user.actions.ts"],"sourcesContent":["\"use server\";\n\nimport { ID, Query } from \"node-appwrite\";\nimport { createAdminClient, createSessionClient } from \"../appwrite\";\nimport { appwriteConfig } from \"../appwrite/config\";\nimport { parseStringify } from \"../utils\";\nimport { cookies } from \"next/headers\";\nimport { avatarPlaceholderUrl } from \"@/constants\";\nimport { redirect } from \"next/navigation\";\n\nconst getUserByEmail = async (email: string) => {\n    const { databases } = await createAdminClient();\n\n    const result = await databases.listDocuments(\n        appwriteConfig.databaseId,\n        appwriteConfig.usersCollectionId,\n        [Query.equal(\"email\", [email])]\n    );\n\n    return result.total > 0 ? result.documents[0] : null;\n};\n\nconst handleError = (error: unknown, message: string) => {\n    console.log(error, message);\n    throw error;\n};\n\nexport const sendEmailOTP = async ({ email }: { email: string }) => {\n    const { account } = await createAdminClient();\n\n    try {\n        const session = await account.createEmailToken(ID.unique(), email);\n\n        return session.userId;\n    } catch (error) {\n        handleError(error, \"Failed to send email OTP\");\n    }\n};\n\nexport const createAccount = async ({\n    fullName,\n    email,\n}: {\n    fullName: string;\n    email: string;\n}) => {\n    const existingUser = await getUserByEmail(email);\n\n    const accountId = await sendEmailOTP({ email });\n    if (!accountId) throw new Error(\"Failed to send an OTP\");\n\n    if (!existingUser) {\n        const { databases } = await createAdminClient();\n\n        await databases.createDocument(\n            appwriteConfig.databaseId,\n            appwriteConfig.usersCollectionId,\n            ID.unique(),\n            {\n                fullName,\n                email,\n                avatar: avatarPlaceholderUrl,\n                accountId,\n            }\n        );\n    }\n\n    return parseStringify({ accountId });\n};\n\nexport const verifySecret = async ({\n    accountId,\n    password,\n}: {\n    accountId: string;\n    password: string;\n}) => {\n    try {\n        const { account } = await createAdminClient();\n\n        const session = await account.createSession(accountId, password);\n\n        (await cookies()).set(\"appwrite-session\", session.secret, {\n            path: \"/\",\n            httpOnly: true,\n            sameSite: \"strict\",\n            secure: true,\n        });\n\n        return parseStringify({ sessionId: session.$id });\n    } catch (error) {\n        handleError(error, \"Failed to verify OTP.\");\n    }\n};\n\nexport const getCurrentUser = async () => {\n    const { account, databases } = await createSessionClient();\n\n    const result = await account.get();\n\n    const user = await databases.listDocuments(\n        appwriteConfig.databaseId,\n        appwriteConfig.usersCollectionId,\n        [Query.equal(\"accountId\", result.$id)]\n    );\n\n    if (user.total <= 0) return null;\n\n    return parseStringify(user.documents[0]);\n};\n\nexport const signOutUser = async () => {\n    const { account } = await createSessionClient();\n\n    try {\n        await account.deleteSession(\"current\");\n        (await cookies()).delete(\"appwrite-session\");\n    } catch (error) {\n        handleError(error, \"Failed to sign out user\");\n    } finally {\n        redirect(\"/sign-in\");\n    }\n};\n\nexport const signInUser = async ({ email }: { email: string }) => {\n    try {\n        const existingUser = await getUserByEmail(email);\n\n        // User exits, send OTP\n        if (existingUser) {\n           await sendEmailOTP({email});\n           return parseStringify({ accountId: existingUser.accountId });\n        }\n\n        return parseStringify({ accountId: null, error: \"User not found\" })\n    } catch(error) {\n        handleError(error, \"Failed to sign in user\")\n    }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/.next-internal/server/app/%28auth%29/sign-in/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {createAccount as '7fbd2fa925ba7d865d47033d608db409f2caa4be0e'} from 'ACTIONS_MODULE0'\nexport {signInUser as '7f978954c5a642a14bee359844137f4665893dc18c'} from 'ACTIONS_MODULE0'\nexport {sendEmailOTP as '7fc932ab75f2356818f9faee00df0ed2b70621b98c'} from 'ACTIONS_MODULE0'\nexport {verifySecret as '7ff32fecbf6e333c8259cff2858f6410be38e3b8e3'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 903, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/components/AuthForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/AuthForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/AuthForm.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2R,GACxT,yDACA","debugId":null}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/components/AuthForm.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/AuthForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/AuthForm.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuQ,GACpS,qCACA","debugId":null}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"sources":["file:///Users/amaan/Desktop/Programming/React/store_it/app/%28auth%29/sign-in/page.tsx"],"sourcesContent":["import AuthForm from \"@/components/AuthForm\";\nimport React from \"react\";\n\nconst SignIn = () => <AuthForm type=\"sign-in\" />;\n\nexport default SignIn;\n"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,SAAS,kBAAM,8OAAC,uHAAA,CAAA,UAAQ;QAAC,MAAK;;;;;;uCAErB","debugId":null}}]
}