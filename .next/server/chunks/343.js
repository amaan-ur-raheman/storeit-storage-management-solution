exports.id=343,exports.ids=[343],exports.modules={12977:(e,a,s)=>{"use strict";s.d(a,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/amaan/Desktop/Programming/React/store_it/components/AuthForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/amaan/Desktop/Programming/React/store_it/components/AuthForm.tsx","default")},18168:(e,a,s)=>{"use strict";s.d(a,{default:()=>B});var t=s(60687),l=s(63442),r=s(27605),n=s(43214),i=s(24934),d=s(43210),o=s(8730),c=s(96241),m=s(78148);let f=(0,s(24224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=d.forwardRef(({className:e,...a},s)=>(0,t.jsx)(m.b,{ref:s,className:(0,c.cn)(f(),e),...a}));x.displayName=m.b.displayName;let u=r.Op,h=d.createContext({}),p=({...e})=>(0,t.jsx)(h.Provider,{value:{name:e.name},children:(0,t.jsx)(r.xI,{...e})}),j=()=>{let e=d.useContext(h),a=d.useContext(N),{getFieldState:s,formState:t}=(0,r.xW)(),l=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=a;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},N=d.createContext({}),g=d.forwardRef(({className:e,...a},s)=>{let l=d.useId();return(0,t.jsx)(N.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:s,className:(0,c.cn)("space-y-2",e),...a})})});g.displayName="FormItem";let b=d.forwardRef(({className:e,...a},s)=>{let{error:l,formItemId:r}=j();return(0,t.jsx)(x,{ref:s,className:(0,c.cn)(l&&"text-destructive",e),htmlFor:r,...a})});b.displayName="FormLabel";let v=d.forwardRef(({...e},a)=>{let{error:s,formItemId:l,formDescriptionId:r,formMessageId:n}=j();return(0,t.jsx)(o.DX,{ref:a,id:l,"aria-describedby":s?`${r} ${n}`:`${r}`,"aria-invalid":!!s,...e})});v.displayName="FormControl",d.forwardRef(({className:e,...a},s)=>{let{formDescriptionId:l}=j();return(0,t.jsx)("p",{ref:s,id:l,className:(0,c.cn)("text-[0.8rem] text-muted-foreground",e),...a})}).displayName="FormDescription";let y=d.forwardRef(({className:e,children:a,...s},l)=>{let{error:r,formMessageId:n}=j(),i=r?String(r?.message):a;return i?(0,t.jsx)("p",{ref:l,id:n,className:(0,c.cn)("text-[0.8rem] font-medium text-destructive",e),...s,children:i}):null});y.displayName="FormMessage";var w=s(68988),S=s(30474),R=s(85814),C=s.n(R),I=s(6475);let F=(0,I.createServerReference)("7f6a0b2c2d839b3f1c6211ab782351f6e04628eef2",I.callServer,void 0,I.findSourceMapURL,"createAccount"),P=(0,I.createServerReference)("7fd67118c3987f1df36b9e7da43987ac43e15fbfd8",I.callServer,void 0,I.findSourceMapURL,"signInUser");var k=s(97895);let D=k.bL;k.l9;let U=k.ZL,L=d.forwardRef(({className:e,...a},s)=>(0,t.jsx)(k.hJ,{className:(0,c.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));L.displayName=k.hJ.displayName;let E=d.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(U,{children:[(0,t.jsx)(L,{}),(0,t.jsx)(k.UC,{ref:s,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));E.displayName=k.UC.displayName;let O=({className:e,...a})=>(0,t.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});O.displayName="AlertDialogHeader";let A=({className:e,...a})=>(0,t.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});A.displayName="AlertDialogFooter";let T=d.forwardRef(({className:e,...a},s)=>(0,t.jsx)(k.hE,{ref:s,className:(0,c.cn)("text-lg font-semibold",e),...a}));T.displayName=k.hE.displayName;let $=d.forwardRef(({className:e,...a},s)=>(0,t.jsx)(k.VY,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",e),...a}));$.displayName=k.VY.displayName;let M=d.forwardRef(({className:e,...a},s)=>(0,t.jsx)(k.rc,{ref:s,className:(0,c.cn)((0,i.r)(),e),...a}));M.displayName=k.rc.displayName,d.forwardRef(({className:e,...a},s)=>(0,t.jsx)(k.ZD,{ref:s,className:(0,c.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...a})).displayName=k.ZD.displayName;var z=s(500),Y=s(89698);let V=d.forwardRef(({className:e,containerClassName:a,...s},l)=>(0,t.jsx)(z.wE,{ref:l,containerClassName:(0,c.cn)("flex items-center gap-2 has-[:disabled]:opacity-50",a),className:(0,c.cn)("disabled:cursor-not-allowed",e),...s}));V.displayName="InputOTP";let W=d.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,c.cn)("flex items-center",e),...a}));W.displayName="InputOTPGroup";let Z=d.forwardRef(({index:e,className:a,...s},l)=>{let{char:r,hasFakeCaret:n,isActive:i}=d.useContext(z.dK).slots[e];return(0,t.jsxs)("div",{ref:l,className:(0,c.cn)("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",i&&"z-10 ring-1 ring-ring",a),...s,children:[r,n&&(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Z.displayName="InputOTPSlot",d.forwardRef(({...e},a)=>(0,t.jsx)("div",{ref:a,role:"separator",...e,children:(0,t.jsx)(Y.QGg,{})})).displayName="InputOTPSeparator";let _=(0,I.createServerReference)("7fc637b154663b2cfd49ede4df6e6520386fc63806",I.callServer,void 0,I.findSourceMapURL,"verifySecret"),G=(0,I.createServerReference)("7fe460c036d37f9e842114bd815b3f5ef445739a16",I.callServer,void 0,I.findSourceMapURL,"sendEmailOTP");var H=s(16189);let J=({accountId:e,email:a})=>{let s=(0,H.useRouter)(),[l,r]=(0,d.useState)(!0),[n,o]=(0,d.useState)(""),[c,m]=(0,d.useState)(!1),f=async a=>{a.preventDefault(),m(!0);try{await _({accountId:e,password:n})&&s.push("/")}catch(e){console.error("Failed to verify OTP.")}m(!1)},x=async()=>{await G({email:a})};return(0,t.jsx)(D,{open:l,onOpenChange:r,children:(0,t.jsxs)(E,{className:"shad-alert-dialog",children:[(0,t.jsxs)(O,{className:"relative flex justify-center",children:[(0,t.jsxs)(T,{className:"h2 text-center",children:["Enter your OTP",(0,t.jsx)(S.default,{src:"/assets/icons/close-dark.svg",alt:"Close",width:20,height:20,onClick:()=>r(!1),className:"otp-close-button"})]}),(0,t.jsxs)($,{className:"subtitle-2 text-center text-light-100",children:["We've have sent a code"," ",(0,t.jsx)("span",{className:"pl-1 text-brand",children:a})]})]}),(0,t.jsx)(V,{maxLength:6,value:n,onChange:o,children:(0,t.jsxs)(W,{className:"shad-otp",children:[(0,t.jsx)(Z,{index:0,className:"shad-otp-slot"}),(0,t.jsx)(Z,{index:1,className:"shad-otp-slot"}),(0,t.jsx)(Z,{index:2,className:"shad-otp-slot"}),(0,t.jsx)(Z,{index:3,className:"shad-otp-slot"}),(0,t.jsx)(Z,{index:4,className:"shad-otp-slot"}),(0,t.jsx)(Z,{index:5,className:"shad-otp-slot"})]})}),(0,t.jsx)(A,{children:(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,t.jsxs)(M,{onClick:f,className:"shad-submit-btn h-12",type:"button",children:["Submit",c&&(0,t.jsx)(S.default,{src:"/assets/icons/loader.svg",alt:"loader",className:"ml-2 animate-spin",width:24,height:24})]}),(0,t.jsxs)("div",{className:"subtitle-2 mt-2 text-center text-light-100",children:["Did'nt get the code?",(0,t.jsx)(i.$,{type:"button",variant:"link",className:"pl-1 text-brand",onClick:x,children:"Click to resend"})]})]})})]})})},Q=e=>n.Ik({email:n.Yj().email(),fullname:"sign-up"===e?n.Yj().min(2).max(50):n.Yj().optional()}),B=({type:e})=>{let[a,s]=(0,d.useState)(!1),[n,o]=(0,d.useState)(""),[c,m]=(0,d.useState)(null),f=Q(e),x=(0,r.mN)({resolver:(0,l.u)(f),defaultValues:{fullname:"",email:""}}),h=async a=>{s(!0),o("");try{let s="sign-up"===e?await F({fullName:a.fullname||"",email:a.email}):await P({email:a.email});m(s.accountId)}catch{o("Failed to create an account. Please try again.")}finally{s(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{...x,children:(0,t.jsxs)("form",{onSubmit:x.handleSubmit(h),className:"auth-form",children:[(0,t.jsx)("h1",{className:"form-title",children:"sign-in"===e?"Sign In":"Sign Up"}),"sign-up"==e&&(0,t.jsx)(p,{control:x.control,name:"fullname",render:({field:e})=>(0,t.jsxs)(g,{children:[(0,t.jsxs)("div",{className:"shad-form-item",children:[(0,t.jsx)(b,{className:"shad-form-label",children:"Full Name"}),(0,t.jsx)(v,{children:(0,t.jsx)(w.p,{placeholder:"Enter your full name",className:"shad-input",...e})})]}),(0,t.jsx)(y,{className:"shad-form-message"})]})}),(0,t.jsx)(p,{control:x.control,name:"email",render:({field:e})=>(0,t.jsxs)(g,{children:[(0,t.jsxs)("div",{className:"shad-form-item",children:[(0,t.jsx)(b,{className:"shad-form-label",children:"Email"}),(0,t.jsx)(v,{children:(0,t.jsx)(w.p,{placeholder:"Enter your email",className:"shad-input",...e})})]}),(0,t.jsx)(y,{className:"shad-form-message"})]})}),(0,t.jsxs)(i.$,{className:"form-submit-button text-white",disabled:a,children:["sign-in"===e?"Sign In":"Sign Up",a&&(0,t.jsx)(S.default,{src:"/assets/icons/loader.svg",alt:"Loader",width:24,height:24,className:"ml-2 animate-spin"})]}),n&&(0,t.jsxs)("p",{className:"error-message",children:["*",n]}),(0,t.jsxs)("div",{className:"body-2 flex justify-center",children:[(0,t.jsx)("p",{className:"text-light-100",children:"sign-in"===e?"Don't have an account?":"Already have an account?"}),(0,t.jsxs)(C(),{href:"sign-in"===e?"/sign-up":"/sign-in",className:"ml-1 font-medium text-brand",children:[" ","sign-in"===e?"Sign Up":"Sign In"]})]})]})}),c&&(0,t.jsx)(J,{email:x.getValues("email"),accountId:c})]})}},23873:(e,a,s)=>{Promise.resolve().then(s.bind(s,18168))},27470:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(37413),l=s(53384);s(61120);let r=({children:e})=>(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsx)("section",{className:"bg-brand p-10 justify-center hidden w-1/2 items-center lg:flex xl:w-2/5",children:(0,t.jsxs)("div",{className:"flex max-h-[800px] max-w-[430px] flex-col justify-center space-y-12",children:[(0,t.jsx)(l.default,{src:"/assets/icons/logo-full.svg",alt:"Logo Icon",width:224,height:82,className:"h-auto"}),(0,t.jsxs)("div",{className:"space-y-5 text-white",children:[(0,t.jsx)("h1",{className:"h1",children:"Manage your files the best way"}),(0,t.jsx)("p",{className:"body-1",children:"This is a place where you can store all your documents"})]}),(0,t.jsx)(l.default,{src:"/assets/images/files.png",alt:"Files",width:342,height:342,className:"transition-all hover:rotate-2 hover:scale-105"})]})}),(0,t.jsxs)("section",{className:"flex flex-1 flex-col items-center bg-white p-4 py-10 lg:justify-center lg:p-10 lg:p-0",children:[(0,t.jsx)("div",{className:"mb-16 lg:hidden",children:(0,t.jsx)(l.default,{src:"/assets/icons/logo-full-brand.svg",alt:"Logo",width:224,height:82,className:"h-auto w-[200px] lg:w-[250px]"})}),e]})]})},37912:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,49603,23))},72760:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,46533,23))},86408:(e,a,s)=>{"use strict";s.r(a),s.d(a,{"7f27ec081703204fc202ea47a18b8c90ebb426c7f7":()=>t.BP,"7f6a0b2c2d839b3f1c6211ab782351f6e04628eef2":()=>t._m,"7f8027f6bf0b23704e93e5ab16e4f2940e274dcacb":()=>t.HW,"7fc637b154663b2cfd49ede4df6e6520386fc63806":()=>t.Av,"7fd67118c3987f1df36b9e7da43987ac43e15fbfd8":()=>t.Qv,"7fe460c036d37f9e842114bd815b3f5ef445739a16":()=>t.oS});var t=s(73206)},87425:(e,a,s)=>{Promise.resolve().then(s.bind(s,12977))}};